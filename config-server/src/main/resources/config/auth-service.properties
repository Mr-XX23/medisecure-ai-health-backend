# Server port
server.port=${AUTH_SERVER_PORT}

# Database Configuration
spring.datasource.url=${JDBC_DATABASE_URL}
spring.datasource.username=${DATABASE_PROVIDER_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=${DIALECT}

# Eureka configuration
eureka.client.service-url.defaultZone=${EUREKA_SERVER}
eureka.instance.prefer-ip-address=true
eureka.instance.ip-address=${EUREKA_SERVER_IP}
eureka.instance.hostname=${EUREKA_SERVER_HOSTNAME}
eureka.instance.instance-id=${spring.application.name}:${server.port}

# OTP Configuration
otp.expiry.minutes=${OTP_EXPIRY}
otp.email.token.length=${OTP_EMAIL_LENGTH}

# Email Configuration
spring.mail.host=${SMTP_HOSTNAME}
spring.mail.port=${SMTP_PORT}
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email Configuration pattern
email.verification.url-pattern=%s/api/v1/auth/verify-email?token=%s
email.rate.limit.per-hour=10
email.max.retry.attempts=3

# Application Configuration
app.name=MediSecure
app.url=${GATEWAY_SERVER_URL}

# Async Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100

# Twilio Configuration
twilio.account.sid=${TWILIO_ACCOUNT_SID}
twilio.auth.token=${TWILIO_AUTH_TOKEN}
twilio.phone.number=${TWILIO_PHONE_NUMBER}

# SMS Configuration
sms.rate.limit.per-hour=5
sms.rate.limit.per-day=20
sms.otp.rate.limit.per-hour=3
sms.max.retry.attempts=3

# Security Configuration
security.enabled=true
jwt.access-token-expiry-days=${JWT_ACCESS_TOKEN_EXPIRY_DAYS}
jwt.refresh-token-expiry-days=${JWT_REFRESH_TOKEN_EXPIRY_DAYS}
jwt.issuer=${JWT_ISSUER}
jwt.public-key=${JWT_PUBLIC_KEY}
jwt.private-key=${JWT_PRIVATE_KEY}

cookie.access-token-max-age=${JWT_ACCESS_TOKEN_MAX_AGE}
cookie.refresh-token-max-age=${JWT_REFRESH_TOKEN_MAX_AGE}
cookie.domain=${COOKIE_DOMAIN}
cookie.secure=false

# Public endpoints that don't require authentication
security.public-endpoints=/api/v1/auth/login,/api/v1/auth/register,/api/v1/auth/health,/api/v1/auth/verify-email,/api/v1/auth/verify-phone,/api/v1/auth/reset-password

# OAUTH CLIENT CONFIGURATIONS
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_SECRET_ID}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri={BASE_URL}/api/v1/auth/oauth2/callback/google
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub


