# AI Physician Service - Environment Configuration

# =============================================================================
# Service Configuration
# =============================================================================
SERVICE_NAME=
AI_PHYSICIAN_PORT=
ENVIRONMENT=

# =============================================================================
# MongoDB Configuration
# =============================================================================
MONGODB_URI=
MONGODB_DATABASE=
MONGODB_COLLECTION_SESSIONS=
MONGODB_COLLECTION_ASSESSMENTS=

# =============================================================================
# GitHub Models API (Azure AI)
# =============================================================================
GITHUB_TOKEN=your_github_token_here
GITHUB_MODELS_ENDPOINT=https://models.inference.ai.azure.com
MODEL_NAME=gpt-4o-mini
MODEL_TEMPERATURE=0.7
MODEL_MAX_TOKENS=1000

# =============================================================================
# JWT Configuration
# =============================================================================
JWT_PUBLIC_KEY_PATH=../auth-service/src/main/resources/keys/public_key.pem
JWT_ISSUER=medisecure-auth-service
JWT_ALGORITHM=RS256

# =============================================================================
# Auth Service Integration
# =============================================================================
AUTH_SERVICE_URL=http://localhost:8082
USER_SERVICE_URL=http://localhost:8081

# =============================================================================
# FHIR Server Configuration (History Agent)
# =============================================================================

# Enable/disable FHIR integration
FHIR_ENABLED=false

# Use mock data (true) or connect to real FHIR server (false)
FHIR_USE_MOCK=true

# FHIR server base URL
# Options:
#   - http://hapi.fhir.org/baseR4 (HAPI FHIR public test server)
#   - https://launch.smarthealthit.org/v/r4/fhir (SMART Health IT sandbox)
#   - https://your-epic-server.com/api/FHIR/R4 (Production Epic)
#   - https://your-cerner-server.com/fhir (Production Cerner)
FHIR_BASE_URL=http://hapi.fhir.org/baseR4

# OAuth token for authenticated FHIR servers (leave empty for public servers)
# FHIR_AUTH_TOKEN=your_oauth_token_here

# =============================================================================
# Safety Settings
# =============================================================================
RED_FLAG_KEYWORDS=chest pain,difficulty breathing,severe headache,suicidal,unconscious
EMERGENCY_THRESHOLD_SCORE=8
MAX_SESSION_MESSAGES=50

# =============================================================================
# Streaming Configuration
# =============================================================================
SSE_RETRY_TIMEOUT=30000
SSE_HEARTBEAT_INTERVAL=15

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
# LOG_FILE=/var/log/ai-physician/app.log


# =============================================================================
# USAGE EXAMPLES
# =============================================================================

# Example 1: Development with Mock Data (Default)
# FHIR_ENABLED=false
# FHIR_USE_MOCK=true

# Example 2: Testing with HAPI FHIR Public Server
# FHIR_ENABLED=true
# FHIR_USE_MOCK=false
# FHIR_BASE_URL=http://hapi.fhir.org/baseR4

# Example 3: Testing with SMART Health IT Sandbox
# FHIR_ENABLED=true
# FHIR_USE_MOCK=false
# FHIR_BASE_URL=https://launch.smarthealthit.org/v/r4/fhir

# Example 4: Production with Epic EHR
# FHIR_ENABLED=true
# FHIR_USE_MOCK=false
# FHIR_BASE_URL=https://your-epic-server.com/api/FHIR/R4
# FHIR_AUTH_TOKEN=your_oauth_token_here
